This is the python code that appears in Modern Investments: Theory, Data, and Practice by Kerry Back, Barbara Bennett, Kevin Crotty, and Yuhang Xing.